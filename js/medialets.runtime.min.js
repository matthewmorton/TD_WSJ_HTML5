/**
 * @class medialets.core
 * @version 1.4.3
 * @documentation http://support.medialets.com/display/CREATING/Javascript+Libraries+and+Plugins
 */
(function(h,f,b){"undefined"===typeof Function.delegate&&(Function.prototype.delegate=function(a){var b=this;return function(){return b.apply(a,arguments)}});NodeList.prototype.toArray=function(){for(var a=[],b=0,c=this.length;b<c;b++)a.push(this[b]);return a};b||(h.medialets=h.$m=b=function(){return b._constructor.apply(null,arguments)});var m=function(){b.scroll.update({contentOffset:{x:0,y:0}})},n=function(a){a.preventDefault();a.stopPropagation();a.stopImmediatePropagation&&a.stopImmediatePropagation();return!1},p=[],l,r,q=function(){b.ready=!0;for(var a;a=p.shift();)a()},j=function(){clearInterval(r);clearTimeout(l);f.addEventListener?f.removeEventListener("DOMContentLoaded",j,!1):f.detachEvent("onreadystatechange",j);if(b&&b.ad)if(!0===b.ad.started)q();else{try{b.addEventListener("adStartUp",q)}catch(a){q()}"undefined"==typeof mraid&&"undefined"==typeof ormma&&b.adStartUp.set()}else q()};b.ready=!1;b.useReadyTimer=2E3;b._constructor=function(a){return!a?null:a.nodeType||"[object DOMWindow]"===Object.prototype.toString.call(a)?a:"string"===typeof a?f.getElementById(a):null};b.onReady=function(a){if(b.ready)return a();if(!p[0]){r=setInterval(function(){/loaded|complete/.test(f.readyState)&&j()},50);if(b&&b.ad)if(!0===b.ad.expanded)h.setTimeout(j,50);else try{b.addEventListener("expandComplete",j)}catch(d){h.setTimeout(j,50)}f.addEventListener?(f.addEventListener("DOMContentLoaded",j,!1),h.addEventListener("load",j,!1)):f.attachEvent&&(f.attachEvent("onreadystatechange",j),h.attachEvent("onload",j));0<b.useReadyTimer&&(l=setTimeout(j,b.useReadyTimer))}p.push(a)};b.find=function(a,d){d=d?b(d):f;return d.querySelectorAll(a)};b.addClass=function(a,d){var c=Object.prototype.toString.call(a);if("[object Array]"===c||"[object NodeList]"===c)for(var e in a)a.hasOwnProperty(e)&&b.addClass(a[e],d);else if(a=b(a))c=a.className,""!==c?(c=c.split(" "),!1===b.arraySearch(c,d)&&(c.push(d),a.className=c.join(" "))):a.className=d;return a};b.removeClass=function(a,d){var c=Object.prototype.toString.call(a);if("[object Array]"===c||"[object NodeList]"===c)for(var e in a)a.hasOwnProperty(e)&&b.removeClass(a[e],d);else if(a=b(a))c=a.className,""!==c&&(c=c.split(" "),e=b.arraySearch(c,d),!1!==e&&(c.splice(e,1),a.className=c.join(" ")));return a};b.hasClass=function(a,d){var c=Object.prototype.toString.call(a);if("[object Array]"===c||"[object NodeList]"===c){"[object NodeList]"===c&&(a=a.toArray());var e,c=[];for(e in a)b.hasClass(a[e],d)&&c.push(a[e]);return c}if(a=b(a))if(e=a.className,""!==e&&(e=e.split(" "),!1!==b.arraySearch(e,d)))return!0;return!1};b.toggleClass=function(a,d){b.hasClass(a,d)?b.removeClass(a,d):b.addClass(a,d);return a};b.createEl=function(a,b){var c;if(a){a.nodeType||(a=f.createElement(a));if(b)for(c in b)if(b.hasOwnProperty(c))if("className"===c||"innerHTML"===c)a[c]=b[c];else if("children"!==c)if("object"===typeof b[c]){var e=b[c],k="",g;for(g in e)e.hasOwnProperty(g)&&(k+=g+" : "+e[g]+"; ");a.setAttribute(c,k)}else a.setAttribute(c,b[c]);return a}return null};b.createEls=function(a,d){var c=a.length,e,f=0,g=function(a){e=a.type?b.createEl(a.type):b.createEl("div");a.children&&b.createEls(a.children,e);b.createEl(e,a);d?b.appendEl(d,e):d=e};if("[object Array]"===Object.prototype.toString.call(a))for(;f<c;f++)g(a[f]);else g(a);return d};b.appendEl=function(a,d,c){return(a=b(a))?(d=b.createEl(d,c),a.appendChild(d),d):null};b.removeEl=function(a){(a=b(a))&&a.parentNode.removeChild(a)};b.deepCopy=function(a,d){var c,e;for(c in a)if(a.hasOwnProperty(c))if((e=a[c])&&"object"===typeof e&&!e.node)switch(Object.prototype.toString.call(e)){case "[object Object]":d[c]=b.deepCopy(e,"undefined"!==typeof d[c]&&"[object Object]"===Object.prototype.toString.call(d[c])?d[c]:{});break;case "[object Array]":d[c]=b.deepCopy(e,"undefined"!==typeof d[c]&&"[object Array]"===Object.prototype.toString.call(d[c])?d[c]:[]);break;default:d[c]=e}else d[c]=e;return d};b.arraySearch=function(a,b){var c,e=!1;for(c in a)if(a[c]===b){e=c;break}return e};b.bind=function(a,d,c){var e=Object.prototype.toString.call(a);if("[object Array]"===e||"[object NodeList]"===e)for(var f in a)a.hasOwnProperty(f)&&b.bind(a[f],d,c);else if(a=b(a))a.events||(a.events={}),a.events[d]||(a.events[d]=[]),a.events[d].push(c),a.addEventListener(d,c,!1);return b};b.bindOnce=function(a,d,c){var e=Object.prototype.toString.call(a);if("[object Array]"===e||"[object NodeList]"===e)for(var f in a)a.hasOwnProperty(f)&&b.bindOnce(a[f],d,c);else if(a=b(a))a.events||(a.events={}),a.events[d]||(a.events[d]=[]),a.events[d].push(c),a.addEventListener(d,function(){b.unbind(a,d,arguments.callee);c()},!1);return b};b.trigger=function(a,d,c,e){var k={bubbles:!0,cancelable:!0},g=null,g=/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/;if(a=b(a)){"object"===typeof e&&b.deepCopy(e,k);g=g.test(d)?"MouseEvents":"HTMLEvents";e=f.createEvent(g);e.data=c?c:{};switch(g){case "MouseEvents":e.initMouseEvent(d,k.bubbles,k.cancelable,f.defaultView,a);break;case "HTMLEvents":e.initEvent(d,k.bubbles,k.cancelable)}a.dispatchEvent(e)}return b};b.unbind=function(a,d,c){var e=Object.prototype.toString.call(a);if("[object Array]"===e||"[object NodeList]"===e)for(var f in a)a.hasOwnProperty(f)&&b.unbind(a[f],d,c);else if((a=b(a))&&a.hasOwnProperty("events")&&a.events.hasOwnProperty(d))if(e=a.events[d],c)a.removeEventListener(d,c,!1),e&&(a=b.arraySearch(e,c),!1!==a&&e.splice(a,1));else if(e)for(;0<e.length;)a.removeEventListener(d,e.shift(),!1);return b};b.ui={touchstart:"ontouchstart"in f?"touchstart":"mousedown",touchmove:"ontouchmove"in f?"touchmove":"mousemove",touchend:"ontouchend"in f?"touchend":"mouseup",tap:"ontouchstart"in f?"touchstart":"click",click:"click"};b.hasOwnProperty("ua")&&b.deepCopy(b.ua,b.ui);b.enableViewScrolling=function(){b.hasOwnProperty("scroll")?(b.scroll.update({enabled:!0}),b.unbind(f,"scroll",m)):b.unbind(f,"touchmove",n)};b.disableViewScrolling=function(){b.hasOwnProperty("scroll")?(b.scroll.update({enabled:!1}),b.bind(f,"scroll",m)):b.bind(f,"touchmove",n)};"undefined"!==typeof h.medialetsViewCanScroll&&h.medialetsViewCanScroll?b.enableViewScrolling():b.disableViewScrolling();if(b.app&&!b.app.sdkType){var s=b.open;if("function"==typeof s){var t=0;b.open=function(a,d){b.trackingEvent.setNumber("MMAdClickThru_Browser",++t);s(a,d)}}}})(window,document,"undefined"!==typeof medialets?medialets:!1);(function(){var h=0,f,b=0,m=function(){try{MMBridge.trackingEvent.setDurationForKey("MMExpandDuration",b)}catch(f){}},n=function(){var l=Math.round((new Date-f)/1E3);1<=l&&900>=l&&(b+=l,0===h?m():setTimeout(m,250),++h)};if("undefined"!==typeof MMBridge)try{MMBridge.AdData.onExpandStart.init(function(){f=new Date}),MMBridge.AdData.onCollapseStart.init(n)}catch(p){}})();

/**
 * @class medialets.trackAdExpandDuration
 * @version 1.1
 * @documentation http://support.medialets.com/display/CREATING/Javascript+Libraries+and+Plugins
 */
(function(){var b=0,c,d=0,e=function(){try{MMBridge.trackingEvent.setDurationForKey("MMExpandDuration",d)}catch(a){}},f;f=function(){var a=Math.round((new Date-c)/1E3);a>=1&&a<=900&&(d+=a,b===0?e():setTimeout(e,250),++b)};if(typeof MMBridge!=="undefined")try{MMBridge.AdData.onExpandStart.init(function(){c=new Date}),MMBridge.AdData.onCollapseStart.init(f)}catch(g){}})();

/**
 * @class medialets.track
 * @version 2.0
 * @documentation http://support.medialets.com/display/CREATING/Javascript+Libraries+and+Plugins
 */
(function(c,e){c||(window.medialets=window.$m=c={});var d={};d.__defineGetter__("TrackingEvent",function(){return c.hasOwnProperty("trackingEvent")?c.trackingEvent:e&&e.hasOwnProperty("trackingEvent")?e.trackingEvent:{}});c.track={setString:function(a,b){try{d.TrackingEvent.setString(a,b)}catch(c){console.log("medialets tracking - setString - ["+a+" : "+b+"]")}},setNumber:function(a,b){try{d.TrackingEvent.setNumber(a,b)}catch(c){console.log("medialets tracking - setNumber - ["+a+" : "+b+"]")}},setDurationForKey:function(a,b){try{d.TrackingEvent.setDurationForKey(a,b)}catch(c){console.log("medialets tracking - setDurationForKey - ["+a+" : "+b+"]")}},startTimerForKey:function(a){try{d.TrackingEvent.startTimerForKey(a)}catch(b){console.log("medialets tracking - startTimerForKey - ["+a+"]")}},endTimerForKey:function(a){try{d.TrackingEvent.endTimerForKey(a)}catch(b){console.log("medialets tracking - endTimerForKey - ["+a+"]")}},incrementKey:function(a){try{d.TrackingEvent.incrementKey(a)}catch(b){console.log("medialets tracking - incrementKey - ["+a+"]")}},setValue:function(a,b){try{d.TrackingEvent.setValue(a,b)}catch(c){console.log("medialets tracking - setValue - ["+a+" : "+b+"]")}},setValues:function(a){try{d.TrackingEvent.setValue(a)}catch(b){console.log("medialets tracking - setValues:"),console.log(a)}}}})("undefined"!==typeof medialets?medialets:!1,"undefined"!==typeof MMBridge?MMBridge:!1);

/**
 * @class medialets.html5Video
 * @version 6.3.6
 * @documentation http://support.medialets.com/display/CREATING/Javascript+Libraries+and+Plugins
 */
(function(f,a){a&&(a.html5Video=function(l){var c=this;this.o={$backdrop:".videoBackdrop",$container:null,$video:".video",$controls:".mediaControls",$playPause:".mc_playPause",$fullScreen:".mc_toggleFullScreen",$kill:".mc_killVideo",$loaded:".mc_loadedPosition",$current:".mc_currentPosition",$currentTime:".mc_currentTime",$duration:".mc_duration",$poster:".videoPoster",autoStart:!0,loop:!1,alwaysShowControls:!1,$overlay:null,orientationObject:null,buildPlayer:!1,videoSrc:null,posterSrc:null,theme:{width:null,height:null,playsinline:!0,mediaControls:{type:"custom",background:"rgba(33, 33, 33, 0.75)",border:"rgba(33, 33, 33, 0.75)",controls:"#fff",loaded:"#aaa",current:"rgba(255,0,0,1)",playArrow:"-webkit-gradient(linear, 0 0, 0 100%, color-stop(0, #fff), color-stop(0.05, #eee), color-stop(1, #bbb))"},buttons:{playPause:!0,currentTime:!0,duration:!0,fullscreen:!0,exit:!0}}};this.local={currentVideo:"",currentPosition:0,playbackHistory:{},controlsTimeout:null,playing:!1,fullscreen:!1,shutdownFn:null,startupFn:null};this.playerID="video_"+(100*Math.random()).toFixed(0);this.playerHTML={id:this.playerID,className:"videoPlayer",children:[{className:"videoBackdrop"},{className:"videoContainer",children:[{className:"videoPoster",children:[{className:"playArrow"}]},{className:"mediaControls",children:[{className:"mc_playPause"},{className:"mc_currentTime",html:"00:00"},{className:"mc_progressBar",children:[{className:"mc_loadedPosition"},{className:"mc_currentPosition",children:[{className:"mc_scrubberHead"}]}]},{className:"mc_duration",html:"00:00"},{className:"mc_toggleFullScreen"},{className:"mc_killVideo"}]},{type:"video",className:"video"}]}]};this.playerCSS={"*":{margin:"0",padding:"0",border:"0",outline:"0","vertical-align":"baseline",background:"transparent","-webkit-touch-callout":"none","-webkit-user-select":"none","-webkit-text-size-adjust":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},".fullscreen.videoPlayerContainer":{width:"100% !important",height:"100% !important",top:"0 !important",left:"0 !important",position:"absolute","z-index":"1000"},".videoPlayer":{position:"absolute",width:"100%",height:"100%","z-index":"995"},".videoBackdrop":{position:"absolute",width:"100%",height:"100%","z-index":"995",background:"rgba(0,0,0,.8)",display:"none",opacity:"0"},".fullscreen .videoBackdrop":{opacity:"1"},".videoContainer":{width:"768px",height:"432px","background-color":"#fff",position:"relative",top:"auto",left:"auto"},".fullscreen .videoContainer":{width:"100% !important",height:"100% !important"},".videoPoster":{position:"absolute","z-index":"999",width:"100%",height:"100%",background:"no-repeat center center rgba(0,0,0,1)",top:"0",left:"0"},".playing .videoPoster, .paused .videoPoster":{display:"none"},".videoPoster .playArrow":{"background-color":"#fff","-webkit-mask":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAABaCAYAAADJoxqPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTFBMzIwNEIzQjE1MTFFMUExMUZEOUNCMzE3QjQxRjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTFBMzIwNEMzQjE1MTFFMUExMUZEOUNCMzE3QjQxRjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMUEzMjA0OTNCMTUxMUUxQTExRkQ5Q0IzMTdCNDFGOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMUEzMjA0QTNCMTUxMUUxQTExRkQ5Q0IzMTdCNDFGOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvEr4MIAAAPjSURBVHja7J1PSFRRFMbPPEUQhKCVIAwYrYyiIJQgqE1gm8CojVGb2hQJYRBEERQthMhN0iJqY7SIoKhN0koJgqRIgsRIEtrkpiAIoijsHDq3MZk33ffenTf3vvd98G2cf4+f5557zzejU1lZWSHIrdrX/qBSqYBKCq0uzijmPrvYg0CVTnFQe9iP1X3AlKJsV1s1LDepf7KvsteBlh1HG6jGn9jH2W1A6A6q8SvtuVAM1CjF47eyp9n32b3Aab9R2WiI/YZ9md0FlMk2Kht/ZB8Gx/TLv5662ZPs5+x+LH+36lewkwoaUB1KWsE79jl2J3pqup7ayO91U0NPdahePX5N63EMy9+hZGB4wb7OXg+o7tSmo660hNGijrxRi15XwhkJaV5TASPGqMWvL7GiiRg3AqpbDerIW4iIMfLoWjq0z0q/PQqobiUng5sUcMQYeXxtJmK8x64CqlsdYC9QQBFjFMgvv1NzhAUdoQHVoeRd3jvkecQYGlQjEzHKhtYNqG4lRy8TMXYAqjt16SYmw8MQoLqVjLkmYuwDVLeSgUGCmpZFjEWEKlodMZ6knCPGokI1knDmGuUcMRYdqpGJGB9SDhFjWaAa7aMcIsayQSWqRYwL1KSIsYxQjbqpFjHuBFS3kojxqWYKVUB1q2FtCRcp46dqAPVfCcwLlDFiBNT6qmo7eEYpPlUDqI21QzeyRBEjoNrJRIyjZBExAqq9unRo+G/ECKjJZSLGJxQTMQJqeu1RsFVAdaMf7HH2JvaHtTe2g09iPWKfZi/G3QFQ7TWvMKew+2fXF/YIe4sNUFRqY/1i32CfZ39O8kBAra8Z9gld8pj9M0o2n/3s3WmBolJr+soeY1/R41ImASrRLe2by66esMxQZ7VvvnT9xGXsqTIBHWIPNANo2Sr1m46WY9pDm6ayQL3LPlNvTgfU5Jpjn9JzZ24qak+VCegYe1veQIsI1URyG/So1BIVaflL2DFCDSI5VKq9ZJzcq1704YJChiqRnOSb1pEcln+8UkdygFpfM3pEmvP5IkNZ/ktUi+TmfL9Y3yvVRHLjOmYGIZ+h3tbRcpkCk49QZ/W8ORvqscSnnioVeYT+RHLBAvWlUnOL5MoC9YEe4JeKFEC0CmpLIrmi9lSZgOR9oe1FBZpnpUokN8G+pDN7oZUH1Cntm/NUEjUT6lvtm1NUMjWjp3obyYVaqRLJnSVPI7nQoAYRyYWy/OV99IMUSCTne6UGGcnlphT/kl7+ZrMH5OI5JqnU4CM5n3qqRHLyaY8BAM2+/L8TvhYpFcfK2u9N1a/43Kwb0CJw2UP9yzAGKpQB6m8BBgDFY38Mp6pYEQAAAABJRU5ErkJggg==) no-repeat center center",position:"absolute",height:"50%",top:"25%",width:"100%"},".mediaControls":{position:"absolute",bottom:"5%",left:"5%",width:"90%",height:"25px","background-color":"rgba(33,33,33,0.75)",border:"solid 2px rgba(99,99,99,0.75)",opacity:"0","z-index":"998","-webkit-border-radius":"7px","-webkit-box-shadow":"0 0 5px #333","-webkit-transition-duration":"1s",padding:"5px 0px"},".mediaControls.show":{opacity:"1"},".mc_playPause, .mc_playPause.pause, .mc_toggleFullScreen, .mc_killVideo":{"-webkit-mask":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAFwCAYAAAA/qrLzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUExNTRFNTkzQzQwMTFFMUExMUZEOUNCMzE3QjQxRjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUExNTRFNUEzQzQwMTFFMUExMUZEOUNCMzE3QjQxRjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QTE1NEU1NzNDNDAxMUUxQTExRkQ5Q0IzMTdCNDFGOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QTE1NEU1ODNDNDAxMUUxQTExRkQ5Q0IzMTdCNDFGOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnaluHAAAAeISURBVHja7N19SBtn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) no-repeat","float":"left",height:"25px",width:"30px","background-color":"#c2c2c2"},".mc_playPause.pause":{"-webkit-mask-position":"-2px -1px"},".mc_playPause":{"-webkit-mask-position":"-2px -80px"},".fullscreen .mc_toggleFullScreen":{"-webkit-mask-position":"-1px -255px"},".mc_toggleFullScreen ":{"-webkit-mask-position":"-1px -171px"},".mc_killVideo":{"-webkit-mask-position":"1px -340px"},".videoContainer .mc_currentTime":{"border-left":"solid 1px #676767"},".videoContainer .mc_duration":{"border-right":"solid 1px #676767"},".videoContainer .mc_currentTime, .videoContainer .mc_duration":{width:"30px","line-height":"25px",height:"25px","text-align":"center",color:"#fff","font-family":"sans-serif","font-size":"11px",padding:"0 3px","float":"left"},".mc_progressBar":{"z-index":"4","float":"left","margin-top":"8px",width:"60%","-webkit-box-shadow ":"inset 1px 1px 4px #333","background-color":"#ccc",height:"7px"},".mc_scrubberHead":{position:"absolute",top:"-4px",right:"-2px",width:"12px",height:"12px","-webkit-border-radius":"60px","background-color":"#fff","-webkit-box-shadow":"0 0 5px #333",border:"solid 1px #BBB","z-index":"1"},".mc_loadedPosition":{position:"relative",left:"0",top:"0",width:"0",height:"7px","background-color":"#aaa","z-index":"0","-webkit-box-shadow":"inset 1px 1px 4px #333"},".mc_currentPosition":{position:"relative",left:"0",top:"-6px",width:"0","min-width":"3%",overflow:"visible",height:"6px","z-index":"1",background:"rgba(255,0,0,1)","-webkit-box-shadow":"inset 0 3px 5px rgba(255,255,255,0.55)"},".video":{width:"100%",height:"100%",top:"0",left:"0",background:"#333",position:"absolute","z-index":"997"}};this.init=function(b){this.o=a.deepCopy(b,this.o);this.o.buildPlayer&&this.buildPlayer();this.cacheUI();this.attachEvents();this.o.buildPlayer&&"none"===this.o.theme.mediaControls.type&&(this.o.$controls.style.display="none");this.o.buildPlayer&&"native"===this.o.theme.mediaControls.type&&(this.o.$controls.style.display="none",this.o.$poster.style.display="none",this.o.$video.setAttribute("controls",""));this.local.shutdownFn=this.shutdown.delegate(this);this.local.startupFn=this.adStartup.delegate(this);this.o.autoStart&&""!==this.local.currentVideo&&this.autoPlay();return this};this.createThemeCSS=function(){this.buildCSS({".videoContainer":{width:null!==this.o.theme.width?this.o.theme.width+"px":this.o.$container.offsetWidth+"px",height:null!==this.o.theme.height?this.o.theme.height+"px":this.o.$container.offsetHeight+"px"},".mediaControls":{"background-color":this.o.theme.mediaControls.background,border:this.o.theme.mediaControls.border},".mc_playPause":{"background-color":this.o.theme.mediaControls.controls,display:!0===this.o.theme.buttons.playPause?"block":"none"},".mc_toggleFullScreen":{"background-color":this.o.theme.mediaControls.controls,display:!0===this.o.theme.buttons.fullscreen?"block":"none"},".mc_killVideo":{"background-color":this.o.theme.mediaControls.controls,display:!0===this.o.theme.buttons.exit?"block":"none"},".videoContainer .mc_currentTime":{color:this.o.theme.mediaControls.controls,display:!0===this.o.theme.buttons.currentTime?"block":"none"},".videoContainer .mc_duration":{color:this.o.theme.mediaControls.controls,display:!0===this.o.theme.buttons.duration?"block":"none"},".mc_loadedPosition":{"background-color":this.o.theme.mediaControls.loaded},".mc_currentPosition":{"background-color":this.o.theme.mediaControls.current},".videoPoster":{"background-image":null!==this.o.posterSrc?"url("+this.o.posterSrc+")":"none"},".videoPoster .playArrow":{"background-color":this.o.theme.mediaControls.playArrow}},this.playerID);this.resizeControls(this.playerID,this.o.theme)};this.buildPlayer=function(){a.addClass(this.o.$container,"videoPlayerContainer");this.buildHTML(this.playerHTML,this.o.$container);this.buildCSS(this.playerCSS);this.createThemeCSS()};this.buildCSS=function(b,d){var h,e="",c="",i=f.getElementsByTagName("head")[0];if("undefined"!==typeof d)h=a.createEl("style",{id:"theme_"+d,type:"text/css"});else{if(a("videoPlayerStyles"))return!1;h=a.createEl("style",{id:"videoPlayerStyles",type:"text/css"})}for(var g in b)if(b.hasOwnProperty(g)){e="undefined"!==typeof d?e+("#"+d+" "+g):e+g;if("object"===typeof b[g]){var k=b[g],c="{\n",j;for(j in k)k.hasOwnProperty(j)&&(c+=" "+j+" : "+k[j]+"; \n");c+="}\n\n"}e+="\n"+c}a.appendEl(h,f.createTextNode(e));a.appendEl(i,h)};this.buildHTML=function(b,d){var c=a.createEls(b),e=a.find(this.o.$video,c);this.o.theme.playsinline&&0<e.length&&e[0].setAttribute("webkit-playsinline","true");d.innerHTML=c.outerHTML};this.resizeControls=function(b,d,c){if(!this.o.buildPlayer)return!1;var e=a.find(".mc_progressBar",a(b))[0],f=a.find(".mediaControls",a(b))[0],i=5,g;for(g in d.buttons)d.buttons.hasOwnProperty(g)&&(d.buttons[g]||i--);!d.buttons.fullscreen&&!d.buttons.exit&&(a.find(".mc_duration",a(b))[0].style.border="none");e.style.width=f.offsetWidth-30*i-20+"px";c&&a.addClass(f,"show")};this.cacheUI=function(){this.o.$backdrop="object"===typeof this.o.$backdrop?this.o.$backdrop:a.find(this.o.$backdrop,this.o.$container)[0];this.o.$container=a(this.o.$container);this.o.$video=a.find(this.o.$video,this.o.$container)[0];this.o.$controls=a.find(this.o.$controls,this.o.$container)[0];this.o.$playPause=a.find(this.o.$playPause,this.o.$container)[0];this.o.$fullScreen=a.find(this.o.$fullScreen,this.o.$container)[0];this.o.$kill=a.find(this.o.$kill,this.o.$container)[0];this.o.$loaded=a.find(this.o.$loaded,this.o.$container)[0];this.o.$current=a.find(this.o.$current,this.o.$container)[0];this.o.$currentTime=a.find(this.o.$currentTime,this.o.$container)[0];this.o.$duration=a.find(this.o.$duration,this.o.$container)[0];this.o.$poster=a.find(this.o.$poster,this.o.$container)[0];this.o.$overlay=a(this.o.$overlay);null!==this.o.videoSrc&&(this.o.$video.src=this.o.videoSrc);this.local.currentVideo=this.o.$video.src.replace(/.*\//,"")};this.attachEvents=function(){this.o.alwaysShowControls||(a.bind(this.o.$video,a.ui.touchstart,function(){this.toggleVideoControls()}.delegate(this)),this.o.$overlay&&a.bind(this.o.$overlay,a.ui.touchstart,function(){this.toggleVideoControls()}.delegate(this)));this.o.$playPause&&a.bind(this.o.$playPause,a.ui.touchstart,function(b){this.toggleVideoPlayback(b&&b.data&&b.data.auto?!1:!0)}.delegate(this));this.o.$poster&&a.bind(this.o.$poster,a.ui.touchstart,function(b){this.toggleVideoPlayback(b&&b.data&&b.data.auto?!1:!0)}.delegate(this));this.o.$fullScreen&&a.bind(this.o.$fullScreen,a.ui.touchstart,function(){this.toggleFullScreen(!0)}.delegate(this));this.o.$kill&&a.bind(this.o.$kill,a.ui.touchstart,function(){this.killVideoPlayer(!0)}.delegate(this));null!==this.o.orientationObject&&a.bind(null!==this.o.orientationObject.o.$target?this.o.orientationObject.o.$target:f,"m.orientationChange",function(){a.removeClass(this.o.$controls,"show");window.setTimeout(function(){c.resizeControls(c.playerID,c.o.theme,!0)},200)}.delegate(this));a.bind(this.o.$video,"play",function(){this.updateControls("play")}.delegate(this));a.bind(this.o.$video,"pause",function(){this.updateControls("pause")}.delegate(this));a.bind(this.o.$video,"timeupdate",function(b){this.videoProgress(b)}.delegate(this));this.o.$loaded&&a.bind(this.o.$video,"progress",function(b){this.videoBuffer(b)}.delegate(this));"undefined"!==typeof MMBridge&&this.attachAdCallbacks()};this.load=function(b){this.o.$video.src=b;this.local.currentVideo=this.o.$video.src.replace(/.*\//,"");this.o.$video.load()};this.autoPlay=function(){var b=function(){a.unbind(this.o.$video,a.ui.touchstart,b);this.play()}.delegate(this);a.bind(this.o.$video,a.ui.touchstart,b);a.trigger(this.o.$video,a.ui.touchstart,{triggerMedialetsAutoDismiss:!1});this.toggleVideoControls(2E3)};this.toggleVideoControls=function(b){this.resizeControls(this.playerID,this.o.theme,!1);try{clearInterval(this.local.controlsTimeout)}catch(d){}this.o.alwaysShowControls?a.addClass(this.o.$controls,"show"):a.hasClass(this.o.$controls,"show")?a.removeClass(this.o.$controls,"show"):(b=b?b:5E3,a.addClass(this.o.$controls,"show"),this.local.controlsTimeout=setTimeout(this.toggleVideoControls.delegate(this),b))};this.toggleFullScreen=function(b){a.hasClass(this.o.$container,"fullscreen")?this.minimizeScreen(b):this.maximizeScreen(b)};this.minimizeScreen=function(b){a.bind(this.o.$backdrop,"webkitTransitionEnd",function(){a.unbind(this,"webkitTransitionEnd");this.style.display="none"});a.removeClass(this.o.$backdrop,"fullscreen");a.removeClass(this.o.$container,"fullscreen");this.local.fullscreen=!1;b&&this.trackTapAction("MinimizeScreen");a.removeClass(this.o.$controls,"show");window.setTimeout(function(){c.resizeControls(c.playerID,c.o.theme,!1)},200);a.trigger(this.o.$video,"m.html5VideoMinimizeScreen")};this.maximizeScreen=function(b){this.o.$backdrop&&(this.o.$backdrop.style.display="block");setTimeout(function(){a.addClass(this.o.$backdrop,"fullscreen");a.addClass(this.o.$container,"fullscreen")}.delegate(this),50);this.local.fullscreen=!0;b&&this.trackTapAction("MaximizeScreen");a.removeClass(this.o.$controls,"show");window.setTimeout(function(){c.resizeControls(c.playerID,c.o.theme,!1)},200);a.trigger(this.o.$video,"m.html5VideoMaximizeScreen")};this.toggleVideoPlayback=function(b){!1===this.o.$video.paused?this.pause(b):this.play(b)};this.play=function(b){this.o.$video.play();b&&this.trackTapAction("Play")};this.pause=function(b){this.o.$video.pause();this.saveVideoDuration();b&&this.trackTapAction("Pause")};this.killVideoPlayer=function(b){this.pause();this.minimizeScreen();a.addClass(this.o.$container,"hideVideo");b&&this.trackTapAction("Hide")};this.showVideoPlayer=function(b,d,c){a.removeClass(this.o.$container,"hideVideo");b&&this.load(b);d&&setTimeout(function(){this.autoPlay()}.delegate(this),1E3);c&&this.trackTapAction("Play")};this.trackTapAction=function(b){b="MMUserAction_timesUserTappedTo"+b+"_"+this.local.currentVideo;try{MMBridge.trackingEvent.incrementKey(b)}catch(a){console.log(b)}};this.updateControls=function(b){switch(b){case "play":this.local.playing="true";a.removeClass(this.o.$container,"paused");a.addClass(this.o.$container,"playing");a.removeClass(this.o.$playPause,"pause");break;case "pause":this.local.playing="false";a.hasClass(this.o.$container,"playing")&&(a.removeClass(this.o.$container,"playing"),a.addClass(this.o.$container,"paused"));a.addClass(this.o.$playPause,"pause");break;default:return!1}};this.secondsToHms=function(b){var b=Number(b),a=Math.floor(b/3600),c=Math.floor(b%3600/60),b=Math.floor(b%3600%60);return(0<a?a+":":"0")+(0<c?(0<a&&10>c?"0":"")+c+":":"0:")+(10>b?"0":"")+b};this.videoProgress=function(){var a=100*(this.o.$video.currentTime/this.o.$video.duration),c;if(!isNaN(a)&&0<a){this.videoBuffer();this.local.currentPosition=a;this.o.$current&&(this.o.$current.style.width=a+"%");this.o.$currentTime&&(this.o.$currentTime.innerHTML=this.secondsToHms(this.o.$video.currentTime));this.o.$duration&&(this.o.$duration.innerHTML=this.secondsToHms(this.o.$video.duration));if(!this.local.playbackHistory[this.local.currentVideo]||this.local.playbackHistory[this.local.currentVideo]&&this.local.playbackHistory[this.local.currentVideo]<a)c=Math.floor(this.local.playbackHistory[this.local.currentVideo]?this.local.playbackHistory[this.local.currentVideo]:0),this.local.playbackHistory[this.local.currentVideo]=a,a=Math.floor(a),(10>a||95<a)&&c<a?this.saveVideoDuration():Math.floor(c/10)<Math.floor(a/10)&&this.saveVideoDuration();100===a&&this.videoEnded()}};this.videoBuffer=function(){try{if(this.o.$loaded){var a=this.o.$video.buffered.end(0),c=parseInt(100*(a/this.o.$video.duration),10);this.o.$loaded.style.width=c+"%"}}catch(f){}};this.saveVideoDuration=function(){var a=Math.round(this.local.playbackHistory[this.local.currentVideo]);if(!isNaN(a)&&0<a)try{MMBridge.trackingEvent.setNumber("percentOfVideoPlayed_"+this.local.currentVideo,a)}catch(c){console.log("percentOfVideoPlayed_"+this.local.currentVideo+", "+a)}};this.videoEnded=function(){a.trigger(this.o.$video,"m.html5VideoEnded");this.o.loop?this.play():(a.hasClass(this.o.$container,"fullscreen")&&this.toggleFullScreen(),a.removeClass(this.o.$container,"playing"),a.removeClass(this.o.$container,"paused"),this.pause());"number"===typeof this.o.loop&&this.o.loop--};this.attachAdCallbacks=function(){if(MMBridge.available){try{MMBridge.AdShutDown.init(this.adShutdown.delegate(this))}catch(a){}try{MMBridge.AdStartUp.init(this.adStartup.delegate(this))}catch(c){}}else setTimeout(this.attachAdCallbacks.delegate(this),200)};this.shutdown=function(){this.adStartup();try{this.pause()}catch(a){}try{this.o.$video.src=""}catch(c){}};this.adShutdown=function(){a.bind(this.o.$video,"timeupdate",this.local.shutdownFn);a.bind(f,a.ui.touchstart,this.local.startupFn)};this.adStartup=function(){a.unbind(this.o.$video,"timeupdate",this.local.shutdownFn);a.unbind(f,a.ui.touchstart,this.local.startupFn)};this.init(l)})})(document,"undefined"!==typeof medialets?medialets:!1);


